-- SYS_MODEL 核心元数据表
DROP TABLE IF EXISTS SYS_META;
CREATE TABLE SYS_META(
	-- 模型的配置属性
	C_OOBDATA_FILE VARCHAR(256),				-- OOB数据文件目录，CSV文件
	C_IN_USE BIT NOT NULL, 					-- 是否正在使用
	C_INIT_ORDER INT NOT NULL,					-- 初始化顺序
	C_INIT_SUBORDER INT NOT NULL, 				-- 初始化子顺序
	-- 模型的配置属性
	S_NAME VARCHAR(256), 						-- 模型名称
	S_NAMESPACE VARCHAR(256),					-- 模型名空间
	S_CATEGORY CHAR(8) NOT NULL,				-- ENTITY | RELATION
	S_GLOBAL_ID VARCHAR(256) NOT NULL,		-- Global ID
	S_MAPPING CHAR(10) NOT NULL,				-- DIRECT | COMBINATED | PARTIAL
	S_POLICY CHAR(10) NOT NULL,				-- GUID | INCREMENT | ASSIGNED | COLLECTION			
	-- 数据库属性
	D_TABLE VARCHAR(256) NOT NULL,			-- 数据库表名
	D_SUB_TABLE VARCHAR(256),					-- 数据库子表名
	D_SUB_KEY VARCHAR(256),					-- 数据库子表ID
	D_SEQ_NAME VARCHAR(256),					-- Oracle中使用的序列名
	D_SEQ_STEP INT,								-- 如果使用自增长则表示自增长的梯度
	D_SEQ_INIT INT,								-- 自增长的起始数据
	PRIMARY KEY(S_NAME,S_NAMESPACE)
);

-- SYS_KEY 核心键值表
DROP TABLE IF EXISTS SYS_KEYS;
CREATE TABLE SYS_KEYS(
	-- Key的系统属性
	S_NAME VARCHAR(256),						-- 系统键属性
	S_CATEGORY CHAR(10) NOT NULL,				-- 键的类型
	S_IS_MULTI BOOLEAN NOT NULL,				-- 是否跨字段
	S_COLUMNS CLOB NOT NULL,					-- 列信息，Json格式，对应字段名（SYS_FIELDS）的集合
	-- 关联字段
	R_FULLNAME VARCHAR(256) NOT NULL,		-- 和SYS_MODEL的主键匹配 FULLNAME = NAMEPSACE + NAME
	PRIMARY KEY(S_NAME)						-- 主键信息
);

-- SYS_FIELD 核心字段表
DROP TABLE IF EXISTS SYS_FIELDS;
CREATE TABLE SYS_FIELDS(
	-- Field的系统属性
	
);